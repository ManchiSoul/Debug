!function(t){"use strict";t.WS_Form.prototype.form_textarea=function(){var e=this;t('[data-textarea-type="tinymce"]',this.form_canvas_obj).each(function(){if("undefined"!=typeof wp&&void 0!==wp.editor&&void 0!==wp.editor.remove&&void 0!==wp.editor.initialize){var o=t(this).attr("id");switch(t(this).attr("data-textarea-toolbar")){case"compact":var i={tinymce:{toolbar1:ws_form_settings.tinymce_toolbar1_compact,toolbar2:ws_form_settings.tinymce_toolbar2_compact,toolbar3:ws_form_settings.tinymce_toolbar3_compact,toolbar4:ws_form_settings.tinymce_toolbar4_compact,plugins:ws_form_settings.tinymce_plugins_compact}};break;default:i={tinymce:{toolbar1:ws_form_settings.tinymce_toolbar1_full,toolbar2:ws_form_settings.tinymce_toolbar2_full,toolbar3:ws_form_settings.tinymce_toolbar3_full,toolbar4:ws_form_settings.tinymce_toolbar4_full,plugins:ws_form_settings.tinymce_plugins_full}}}i.tinymce.wpautop=!0,i.quicktags=!0;var a=e.get_field(t(this));i.tinymce.paste_as_text="on"==e.get_object_meta_value(a,"tinymce_paste_as_text",""),i.mediaButtons=ws_form_settings.wp_media&&"on"==e.get_object_meta_value(a,"visual_editor_media",""),i.tinymce.init_instance_callback=function(o){o.on("keyup change input paste",function(i){t("#"+o.id,e.form_canvas_obj).val(wp.editor.getContent(o.id)).trigger(i.type)});var i=t("#"+o.id,e.form_canvas_obj);e.get_invalid_feedback_obj(i).before(i.detach())},wp.editor.remove(o),wp.editor.initialize(o,i),t(document).on("afterShow.fb",function(a,r,n){void 0!==n.$slide&&t("#"+e.form_obj_id,n.$slide).length&&(wp.editor.remove(o),wp.editor.initialize(o,i))})}}),t(".CodeMirror",e.form_canvas_obj).each(function(){t(this).remove()}),t('[data-textarea-type="html"]',this.form_canvas_obj).each(function(){if("undefined"!=typeof wp&&void 0!==wp.codeEditor){var o=t(this).attr("id");wp.codeEditor.initialize(o),t(".CodeMirror",e.form_canvas_obj).each(function(){t(this)[0].CodeMirror.on("keyup",function(o,i){var a=o.getValue(),r=o.getTextArea();t(r,e.form_canvas_obj).val(a).trigger("keyup")})})}})},t.WS_Form.prototype.textarea_set_value=function(e,o){e.filter("textarea").each(function(){var e=void 0!==t(this).attr("data-textarea-type")&&t(this).attr("data-textarea-type");if(!1!==e)switch(e){case"tinymce":if("undefined"==typeof wp)break;if(void 0===wp.editor)break;tinyMCE.get(t(this).attr("id")).setContent(o);break;case"html":if("undefined"==typeof wp)break;if(void 0===wp.CodeMirror)break;t(this).next().get(0).CodeMirror.getDoc().setValue(o)}})}}(jQuery);