!function(t){"use strict";t.WS_Form.prototype.form_legal=function(){var e=this;t("[data-wsf-legal]",this.form_canvas_obj).each(function(){var a=t(this).attr("data-wsf-legal-source");if(a)switch(a){case"termageddon":t(this).html("");var r=t(this).attr("data-wsf-termageddon-key");if(void 0!==r){var s=t(this).attr("data-wsf-termageddon-extra")?"?"+t(this).attr("data-wsf-termageddon-extra"):"",i=t(this),o=new XMLHttpRequest;o.onloadend=function(){switch(o.status){case 200:i.html(o.responseText),e.form_legal_scrolling_init(i);break;case 404:e.error("error_termageddon_404");break;default:e.error("error_termageddon")}},o.open("GET","https://app.termageddon.com/api/policy/"+r+s),o.send()}}else e.form_legal_scrolling_init(t(this))})},t.WS_Form.prototype.form_legal_scrolling_init=function(e){var a=this,r=this.get_field_id(e),s=this.field_data_cache[r];this.get_object_meta_value(s,"required","")&&(t("[data-wsf-legal-input]",e.parent()).val("1").addClass(e.attr("class")).attr("required","").attr("data-required","").removeAttr("data-wsf-read"),this.form_legal_scrolling(e),e.on("scroll",function(){a.form_legal_scrolling(t(this))}),new ResizeObserver(r=>{t("[data-wsf-legal-input]",e.parent()).removeAttr("data-wsf-read"),a.form_legal_scrolling(e)}).observe(e[0]))},t.WS_Form.prototype.form_legal_scrolling=function(e){var a=t("[data-wsf-legal-input]",e.parent());if(void 0===a.attr("data-wsf-read")){var r=e.closest(".wsf-group"),s=!r.is(":visible");s&&r.show(),e.is(":visible")&&e.scrollTop()+e.outerHeight()>=e[0].scrollHeight?a.val("1").attr("data-wsf-read","").trigger("change"):a.val("").trigger("change"),s&&r.hide()}}}(jQuery);